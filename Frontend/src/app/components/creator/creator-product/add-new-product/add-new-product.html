<div class="add-product-container">
  <app-dashboard-sidebar></app-dashboard-sidebar>
  <div class="main-content">
    <form [formGroup]="productForm">
      <div class="product-header">
        <div class="header-left">
          <h1 class="header-title" *ngIf="currentStep === 'create'">What will you be creating?</h1>
          <div class="nav-tabs" *ngIf="currentStep === 'customize' || currentStep === 'content'">
            <a class="nav-tab" [class.active]="currentStep === 'customize'" routerLink="/products/new">
              <i class="fas fa-edit"></i> Product
            </a>
            <a class="nav-tab" [class.active]="currentStep === 'content'" routerLink="/products/new/content">
              <i class="fas fa-file-alt"></i> Content
            </a>
          </div>
        </div>
        <div class="header-right">
          <button class="btn btn-secondary" (click)="cancel()">Cancel</button>
          <button class="btn btn-primary" *ngIf="currentStep === 'create'" [disabled]="!isCreateStepValid" (click)="nextToCustomize()">Next: Customize</button>
          <button class="btn btn-primary" *ngIf="currentStep === 'customize'" [disabled]="!isCustomizeStepValid" (click)="saveAndContinue()">Save and continue</button>
          <button class="btn btn-primary" *ngIf="currentStep === 'content'" [disabled]="!productForm.valid || isSubmitting" (click)="saveAndPublish()">
            <i class="fas fa-spinner fa-spin me-2" *ngIf="isSubmitting"></i>
            {{ isSubmitting ? 'Creating Product...' : 'Save and publish' }}
          </button>
        </div>
      </div>

      <div class="messages-container" *ngIf="errorMessage || successMessage">
        <div class="alert alert-danger" *ngIf="errorMessage">
          <i class="fas fa-exclamation-triangle me-2"></i> {{ errorMessage }}
        </div>
        <div class="alert alert-success" *ngIf="successMessage">
          <i class="fas fa-check-circle me-2"></i> {{ successMessage }}
        </div>
      </div>

      <div class="content-area">
        <div class="step-content">
          <div class="quote-section" *ngIf="currentStep === 'create'">
            <p class="quote-text">
              Turn your idea into a live product in minutes. Whether it's digital downloads, online courses, or memberships â€” see what sticks.
            </p>
            <div class="form-group">
              <label>Name *</label>
              <input type="text" class="form-input" formControlName="name" placeholder="Name of your product">
            </div>
            <div class="product-types">
              <div class="product-type-card" *ngFor="let type of productTypes" [class.selected]="type.selected" (click)="selectProductType(type.id)">
                <i [class]="type.icon"></i>
                <h3>{{ type.name }}</h3>
                <p>{{ type.description }}</p>
              </div>
            </div>
            <div class="form-group">
              <label>Price *</label>
              <input type="number" class="form-input" formControlName="price" placeholder="Product price">
              <select formControlName="currency">
                <option value="USD">USD</option>
                <option value="EGP">EGP</option>
              </select>
            </div>
            <div class="form-group">
              <label>Permalink *</label>
              <input type="text" class="form-input" formControlName="permalink" placeholder="product-slug">
            </div>
          </div>

          <app-product-edit *ngIf="currentStep === 'customize'" [productForm]="productForm" [productId]="productId" (save)="saveAndContinue()"></app-product-edit>
          <app-product-edit-content 
  *ngIf="currentStep === 'content' && productId"
  [productForm]="productForm"
  [productId]="productId"
  (save)="saveAndPublish()">
</app-product-edit-content>

        </div>
      </div>
    </form>
  </div>
</div>













<!-- =================================================================================================
 


-->


<!-- <div class="add-product-container">
  <app-dashboard-sidebar></app-dashboard-sidebar>

  <div class="main-content">
    Header and buttons omitted for brevity -->

    <!-- <form [formGroup]="productForm">
      Step 1: Basic Info -->
      <!-- <ng-container *ngIf="currentStep === 'create'">

        Your existing create step content -->

        <!-- <div class="form-group">
          <label for="productName"  class="form-label">Name *</label>
          <input 
            type="text" 
            id="productName"
            class="form-input"
            [class.error]="productForm.get('name')?.invalid && productForm.get('name')?.touched"
            placeholder="Name of your product"
            [formControlName]="'name'"
            (input)="onNameChange()"
          >
          <div class="error-message" *ngIf="productForm.get('name')?.invalid && productForm.get('name')?.touched">
            <span *ngIf="productForm.get('name')?.errors?.['required']">Product name is required</span>
            <span *ngIf="productForm.get('name')?.errors?.['minlength']">Product name must be at least 3 characters</span>
          </div>
        </div> -->
        
        <!-- <div class="product-types">
          <div 
            class="product-type-card" 
            *ngFor="let type of productTypes"
            [class.selected]="type.selected"
            (click)="selectProductType(type.id)"
          >
            <div class="type-icon">
              <i [class]="type.icon"></i>
            </div>
            <div class="type-content">
              <h3 class="type-name">{{ type.name }}</h3>
              <p class="type-description">{{ type.description }}</p>
            </div>
          </div>
        </div> -->
        
        <!-- <div class="form-group">
          <label for="productPrice" class="form-label">Price *</label>
          <div class="price-input-group">
            <input 
              type="number" 
              id="productPrice"
              class="form-input"
              [class.error]="productForm.get('price')?.invalid && productForm.get('price')?.touched"
              placeholder="Price your product"
              [formControlName]="'price'"
            >
            <select class="currency-select" [(ngModel)]="currency" [ngModelOptions]="{standalone: true}">
              <option value="EGP">EGP</option>
              <option value="USD">USD</option>
            </select>
          </div>
          <div class="error-message" *ngIf="productForm.get('price')?.invalid && productForm.get('price')?.touched">
            <span *ngIf="productForm.get('price')?.errors?.['required']">Price is required</span>
             <span *ngIf="productForm.get('price')?.errors?.['min']">Price must be greater than 0</span> -->
          <!-- </div>
        </div> --> 
      <!-- </ng-container> --> 

      <!-- Step 2: Customize -->
      <!-- <app-product-edit 
        *ngIf="currentStep === 'customize'" 
        [productForm]="productForm"
        [productId]="productId"
        (save)="saveAndContinue()">
      </app-product-edit> -->

      <!-- Step 3: Content Upload -->
      <!-- <app-product-edit-content 
        *ngIf="currentStep === 'content'" 
        [productForm]="productForm"
        [productId]="productId"
        (save)="saveAndPublish()">
      </app-product-edit-content>
    </form> --> 
  <!-- </div>
</div> -->
