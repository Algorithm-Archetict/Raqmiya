<div class="product-card" (mouseenter)="onMouseEnter()" (mouseleave)="onMouseLeave()">
  <!-- Product Image -->
  <div class="product-image-container">
    <img *ngIf="product.coverImageUrl; else noImage" 
         [src]="product.coverImageUrl" 
         [alt]="product.name"
         class="product-image">
    <ng-template #noImage>
      <div class="product-image-placeholder">
        <i class="fas fa-image"></i>
      </div>
    </ng-template>
    
    <!-- Overlay Actions -->
    <div class="product-overlay" [class.show]="isHovered">
      <div class="overlay-actions">
        <button class="action-btn quick-view" (click)="onQuickView()" title="Quick View">
          <i class="fas fa-eye"></i>
        </button>
        <button class="action-btn wishlist" (click)="onToggleWishlist()" 
                [class.active]="isInWishlist" title="Add to Wishlist">
          <i class="fas" [class.fa-heart]="isInWishlist" [class.fa-heart-o]="!isInWishlist"></i>
        </button>
        <button class="action-btn cart" 
                (click)="onAddToCart()" 
                [class.active]="isInCart"
                [title]="isInCart ? 'Already in Cart' : 'Add to Cart'">
          <i class="fas" [class.fa-shopping-cart]="!isInCart" [class.fa-check]="isInCart"></i>
        </button>
      </div>
    </div>
    
    <!-- Status Badge -->
    <div class="status-badge" [class]="'status-' + product.status.toLowerCase()">
      {{ product.status }}
    </div>
  </div>

  <!-- Product Info -->
  <div class="product-info">
    <div class="product-header">
      <h5 class="product-title">{{ product.name }}</h5>
      <div class="product-creator">
        <i class="fas fa-user-circle me-1"></i>
        <span>{{ product.creatorUsername }}</span>
      </div>
    </div>
    
    <div class="product-description">
      <p class="product-excerpt">{{ getProductDescription() | slice:0:80 }}{{ getProductDescription().length > 80 ? '...' : '' }}</p>
    </div>
    
    <div class="product-meta">
      <div class="product-rating" *ngIf="getProductRating() > 0">
        <div class="stars">
          <i class="fas fa-star" *ngFor="let star of [1,2,3,4,5]" 
             [class.filled]="star <= getProductRating()"></i>
        </div>
        <span class="rating-count">({{ getReviewCount() }})</span>
      </div>
      
      <div class="product-category" *ngIf="hasCategory()">
        <i class="fas fa-tag me-1"></i>
        <span>{{ product.category!.name }}</span>
      </div>
    </div>
    
    <div class="product-footer">
      <div class="product-price">
        <span class="price-amount">{{ product.price | currency:product.currency:'symbol':'1.2-2' }}</span>
        <span class="price-original" *ngIf="hasOriginalPrice()">
          {{ product.originalPrice | currency:product.currency:'symbol':'1.2-2' }}
        </span>
      </div>
      
      <div class="product-actions">
        <button class="btn btn-primary btn-sm" (click)="onViewDetails()">
          <i class="fas fa-eye me-1"></i>
          View
        </button>
        <button class="btn btn-outline-primary btn-sm" 
                (click)="onAddToCart()"
                [disabled]="isInCart">
          <i class="fas" [class.fa-cart-plus]="!isInCart" [class.fa-check]="isInCart"></i>
          {{ isInCart ? 'In Cart' : 'Add to Cart' }}
        </button>
      </div>
    </div>
  </div>
</div>
